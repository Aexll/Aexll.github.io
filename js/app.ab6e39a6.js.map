{"version":3,"file":"js/app.ab6e39a6.js","mappings":"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","sources":["webpack://tradingapp/./src/App.vue","webpack://tradingapp/./src/components/Graph.vue","webpack://tradingapp/./src/components/Graph/functions.js","webpack://tradingapp/./src/components/Graph.vue?3f4e","webpack://tradingapp/./src/App.vue?7ccd","webpack://tradingapp/./src/main.js","webpack://tradingapp/webpack/bootstrap","webpack://tradingapp/webpack/runtime/chunk loaded","webpack://tradingapp/webpack/runtime/compat get default export","webpack://tradingapp/webpack/runtime/define property getters","webpack://tradingapp/webpack/runtime/global","webpack://tradingapp/webpack/runtime/hasOwnProperty shorthand","webpack://tradingapp/webpack/runtime/jsonp chunk loading","webpack://tradingapp/webpack/startup"],"sourcesContent":["<template>\n  <div>\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\" /> -->\n    <!-- <h1>{{ counter }}</h1>\n      <button @click=\"counter++\">Click me !</button>\n      \n      <div v-for=\"(item, index) in orders\" :key=\"index\">\n        <Order>{{ item.name }}</Order>\n      </div> -->\n      \n      <!-- <input type=\"text\" ref=\"name\" /> -->\n      <!-- <button @click=\"clickbtn()\">click me !</button> -->\n      <Graph></Graph>\n      <h5>vesion v0.0.1</h5>\n  </div>\n</template>\n\n<script>\n// import Order from \"./components/Order.vue\";\nimport Graph from \"./components/Graph.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    // Order,\n\tGraph,\n  },\n  data() {\n    return {\n      counter: 0,\n      orders: [\n        { name: \"axel\", age: 19 },\n        { name: \"morgan\", age: 18 },\n        { name: \"cyp\", age: 6 },\n      ],\n    };\n  },\n  methods: {\n    clickbtn() {\n      alert(this.counter);\n      this.$data.orders.push({\n        name: this.$refs.name.value,\n        age: Math.random(),\n      });\n      this.$data.counter++;\n    },\n  },\n  mounted() {\n    console.log(\"Hello world !\");\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 20px;\n}\n</style>\n","<template lang=\"en\">\r\n    <div>\r\n      <canvas width=1000 height=500 id=\"canvas\" ref=\"canv\"></canvas>\r\n    </div>\r\n  </template>\r\n<script>\r\n  \r\nimport { draw,makeLine } from './Graph/functions.js'\r\ndraw;\r\n\r\nexport default {\r\n  name: \"graph_comp\",\r\n  data() {\r\n    return {\r\n      pipes: [],\r\n    };\r\n  },\r\n  methods: {\r\n    makePairData() {\r\n\r\n      const success = (res) => (res.ok ? res.json() : Promise.resolve({}));\r\n\r\n      const base = fetch(\r\n        `https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1m`\r\n      ).then(success);\r\n\r\n      this.base = base;\r\n      \r\n    },\r\n  },\r\n  mounted() {\r\n    \r\n    this.makePairData();\r\n\r\n    const canvas = this.$refs.canv;\r\n    var ctx = canvas.getContext(\"2d\");    \r\n    this.ctx = ctx;\r\n    \r\n    // draw a candle function\r\n    function drawCandle(time,o,c,h,l) {\r\n      time, o, c, h, l;\r\n\r\n      let s = 0; //start\r\n      let a = 0; //append\r\n      if(c<o){\r\n        // long\r\n        s = PtoY(c);\r\n        a = PtoY(o) - PtoY(c);\r\n        ctx.fillStyle = 'red';\r\n        ctx.strokeStyle = 'red';\r\n      } else {\r\n        // short\r\n        s = PtoY(o);\r\n        a = PtoY(c) - PtoY(o);\r\n        ctx.fillStyle = 'green';\r\n        ctx.strokeStyle = 'green';\r\n      }\r\n\r\n      const xTime = PtoX(time)\r\n\r\n      const _d = (1/ ((timeEnd - timeStart / (prices[1].t - prices[0].t))/100));\r\n      const candleWidth = 9 * _d;\r\n\r\n      // rectangle\r\n      ctx.fillRect(xTime - candleWidth/2,s,candleWidth,a);\r\n\r\n      // mèche\r\n      ctx.lineWidth = candleWidth/5;\r\n      ctx.beginPath();\r\n      ctx.moveTo(xTime, PtoY(h));\r\n      ctx.lineTo(xTime, PtoY(l));\r\n      ctx.stroke(); \r\n    }\r\n\r\n    // const data = fetch('./data/EURUSD1.csv').then(r => r.text())\r\n    // console.log(data);\r\n\r\n    // function loadFile(filePath) {\r\n    //   var result = null;\r\n    //   var xmlhttp = new XMLHttpRequest();\r\n    //   xmlhttp.open(\"GET\", filePath, false);\r\n    //   xmlhttp.send();\r\n    //   if (xmlhttp.status==200) {\r\n    //     result = xmlhttp.responseText;\r\n    //   }\r\n    //   return result;\r\n    // }\r\n\r\n    // const data = loadFile(\"data/EURUSD1.csv\");\r\n    // console.log(data);\r\n\r\n\r\n\r\n    // setup the price\r\n    const prices = [\r\n      // {'t':1,'o':50,'c':75,'h':80,'l':44},\r\n      // {'t':2,'o':75,'c':80,'h':88,'l':70},\r\n      // {'t':3,'o':80,'c':76,'h':82,'l':72},\r\n      // {'t':4,'o':76,'c':91,'h':99,'l':74},\r\n      // {'t':5,'o':91,'c':56,'h':91,'l':25},\r\n      // {'t':6,'o':50,'c':75,'h':80,'l':44},\r\n      // {'t':7,'o':75,'c':80,'h':88,'l':70},\r\n      // {'t':8,'o':80,'c':76,'h':82,'l':72},\r\n      // {'t':9,'o':76,'c':91,'h':99,'l':74},\r\n      // {'t':10,'o':91,'c':56,'h':91,'l':25},\r\n      // {'t':11,'o':50,'c':75,'h':80,'l':44},\r\n      // {'t':12,'o':75,'c':80,'h':88,'l':70},\r\n      // {'t':13,'o':80,'c':76,'h':82,'l':72},\r\n      // {'t':14,'o':76,'c':91,'h':99,'l':74},\r\n      // {'t':15,'o':91,'c':56,'h':91,'l':25},\r\n      // {'t':16,'o':50,'c':75,'h':80,'l':44},\r\n      // {'t':17,'o':75,'c':80,'h':88,'l':70},\r\n      // {'t':18,'o':80,'c':76,'h':82,'l':72},\r\n      // {'t':19,'o':76,'c':91,'h':99,'l':74},\r\n      // {'t':20,'o':91,'c':56,'h':91,'l':25},\r\n    ]\r\n\r\n    let lp = 50\r\n    let l = 5\r\n    for (let i = 1; i < 100; i++) {\r\n      prices.push({t:i,o:lp,c:lp+l,h:lp+2,l:lp+l-2})\r\n      lp+=l;\r\n      l = Math.random() * 10-5\r\n    }\r\n\r\n    // console.log(this.base);\r\n\r\n    // this.base.then((value)=>{\r\n    //   console.log(value);\r\n    //   value.forEach(v => {\r\n    //     prices.push({\r\n    //       't':v[0],\r\n    //       'o':v[1],\r\n    //       'c':v[4],\r\n    //       'h':v[2],\r\n    //       'l':v[3],\r\n    //     })\r\n    //   });\r\n    // })\r\n\r\n\r\n\r\n\r\n\r\n    var priceStart = 50;\r\n    var priceEnd = 100;\r\n\r\n    var timeStart = 0;\r\n    var timeEnd = 15;\r\n\r\n    var mousePos = null;\r\n\r\n    var info = {\r\n      b1:{ // left button\r\n        clicked: false, // is the key hold\r\n        sp: {x:0, y:0}, // start position\r\n      },\r\n      b2:{ // right button\r\n        clicked: false, // is the key hold\r\n        sp: {x:0, y:0}, // start position\r\n      }\r\n    }\r\n    \r\n\r\n\r\n\r\n    // set the mouse position \r\n    document.addEventListener('mousemove',(e)=>{\r\n      mousePos = getMousePos(canvas,e);\r\n    })\r\n\r\n\r\n\r\n    function MouseInRightMargin() {\r\n      return info.b1.sp.x >= canvas.width-50;\r\n    }\r\n\r\n    const canMouseMove = ()=> {return info.b1.clicked && !MouseInRightMargin() }\r\n\r\n    function PtoX(t) {\r\n      let offset = 0;\r\n      if(canMouseMove()){\r\n        offset = XtoP(info.b1.sp.x - mousePos.x);\r\n      } else {\r\n        offset = 0;\r\n      }\r\n      const ts = timeStart + offset;\r\n      const te = timeEnd + offset;\r\n      const ratio = (t-ts) / (te-ts)\r\n      return ratio * canvas.width\r\n    }\r\n\r\n    function PtoY(p) {\r\n      let offset = 0;\r\n      if(canMouseMove()){\r\n        offset = YtoP(info.b1.sp.y - mousePos.y);\r\n      } else {\r\n        offset = 0;\r\n      }\r\n      const ps = priceStart - offset;\r\n      const pe = priceEnd - offset;\r\n      const ratio = 1-((p-ps) / (pe-ps))\r\n      return ratio * canvas.height\r\n    }\r\n\r\n    function YtoP(p) {\r\n      return (p / canvas.height) * (priceEnd-priceStart) ;\r\n    }\r\n\r\n    function XtoP(p) {\r\n      return (p / canvas.width) * (timeEnd-timeStart);\r\n    }\r\n\r\n    function clear() {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n\r\n\r\n    // annotate the graph\r\n    function annotate(time,price,text) {\r\n      time,price,text;\r\n      ctx.fillStyle = 'black';\r\n      ctx.font = \"18px Arial\";\r\n      ctx.fillText(text,PtoX(time),PtoY(price));\r\n    }\r\n    annotate;\r\n\r\n    // annotate to the right\r\n    function annotateRight(price,text) {\r\n      price,text;\r\n      ctx.fillStyle = 'black';\r\n      ctx.font = \"18px Arial\";\r\n      ctx.fillText(text,canvas.width - 50,PtoY(price));\r\n    }\r\n\r\n    // annotate to down side\r\n    function annotateDown(time,text) {\r\n      time,text;\r\n      ctx.fillStyle = 'black';\r\n      ctx.font = \"18px Arial\";\r\n      ctx.fillText(text,PtoX(time),canvas.height - 10);\r\n    }\r\n\r\n    function gridifyY(price) {\r\n      price;\r\n      ctx.strokeStyle = 'black';\r\n      ctx.lineWidth = 0.2;\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, PtoY(price));\r\n      ctx.lineTo(canvas.width, PtoY(price));\r\n      ctx.stroke();\r\n    }\r\n\r\n    \r\n    function getMousePos(canvas, evt) {\r\n      var rect = canvas.getBoundingClientRect();\r\n      return {\r\n        x: evt.clientX - rect.left,\r\n        y: evt.clientY - rect.top\r\n      };\r\n    }\r\n\r\n\r\n\r\n    // var toDraw = {m:null};\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    \r\n    \r\n    function tick() {\r\n\r\n      // clear the graph\r\n      clear();\r\n\r\n      // const _d = (1/ ((timeEnd - timeStart / (prices[1].t - prices[0].t))/100));\r\n      // console.log( _d );\r\n\r\n      // Right margin\r\n      const delta = priceEnd - priceStart\r\n      for (let i = priceStart - delta; i < priceEnd + delta; i+=1) {\r\n        const ii = Math.round(i)\r\n        if(ii%10==0){\r\n          annotateRight(ii,String(ii));\r\n          gridifyY(ii)\r\n        }\r\n      }\r\n\r\n      // Down margin\r\n      for (let i = 0; i < 10; i++) {\r\n        const ii = i\r\n        annotateDown(ii,String(ii))\r\n        // annotate(ii,priceEnd,String(ii));\r\n      }\r\n\r\n      // // dates\r\n      // let date = new Date(timeStart).toLocaleString(\"fr\", {timeZone: \"America/New_York\"})\r\n      // annotateDown(timeStart,String(date))\r\n      // annotateDown(timeEnd,String(timeEnd))\r\n\r\n      // Draw the price\r\n      prices.forEach(c => {\r\n        drawCandle(c.t,c.o,c.c,c.h,c.l);\r\n      });\r\n      \r\n\r\n      // when left mouse is held\r\n      if(info.b1.clicked){\r\n        makeLine(ctx,info.b1.sp.x,info.b1.sp.y,mousePos.x,mousePos.y)\r\n\r\n        if(MouseInRightMargin()){\r\n          let scroll = 0;\r\n          if(mousePos.y - info.b1.sp.y >=0){\r\n            scroll = 1;\r\n          }else{\r\n            scroll = -1;\r\n          }\r\n\r\n          const delta = priceEnd - priceStart;\r\n          const percent = info.b1.sp.y/canvas.height;\r\n          scroll*=delta*0.05*(-1)\r\n\r\n          priceStart+=scroll*(1-percent);\r\n          priceEnd-=scroll*(percent);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    canvas.addEventListener('wheel', (event) => {\r\n      let scroll = 0;\r\n      if(event.deltaY >= 0){\r\n        scroll = 1;\r\n      } else {\r\n        scroll = -1;\r\n      }\r\n      const delta = timeEnd - timeStart;\r\n      const percent = mousePos.x/canvas.width;\r\n      timeStart+=(delta*0.1*scroll)*percent;\r\n      timeEnd-=(delta*0.1*scroll)*(1-percent);\r\n    });\r\n    document.addEventListener('contextmenu', event => event.preventDefault());\r\n\r\n\r\n    \r\n    // drag and drop for moving the price\r\n    canvas.onmousedown = function(event) {\r\n      if(event.which == 1){\r\n        info.b1.clicked = true;\r\n        info.b1.sp = getMousePos(canvas,event)\r\n      } else {\r\n        info.b2.clicked = true;\r\n        info.b2.sp = getMousePos(canvas,event)\r\n      }\r\n    }\r\n\r\n    canvas.onmouseup = function(event) {\r\n      if(event.which == 1){\r\n        info.b1.clicked = false;\r\n\r\n        if(info.b1.sp.x <= canvas.width-50){\r\n\r\n          const _x = XtoP(info.b1.sp.x - mousePos.x); \r\n          timeEnd+=_x;\r\n          timeStart+=_x;\r\n          \r\n          const _y = YtoP(mousePos.y - info.b1.sp.y); \r\n          priceEnd+=_y;\r\n          priceStart+=_y;\r\n        }\r\n\r\n      } else {\r\n        info.b2.clicked = false;\r\n      }\r\n    }\r\n\r\n    canvas.ondragstart = function(){\r\n      return false;\r\n    }\r\n\r\n\r\n    setInterval(()=>{\r\n      tick();\r\n\r\n    },1000/120)\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#canvas {\r\n    outline-width: 5px;\r\n    outline: auto;\r\n    margin: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!--\r\n  to do:\r\n  XtoP\r\n  YtoP\r\n  DeltaX (mouse from to)\r\n  DeltaY ''\r\n-->","export function draw(){\r\n    // console.log(\"DRAW\");\r\n}\r\n\r\n\r\nexport function makeLine(ctx,x0,y0,x1,y1) {\r\n    x0,y0,x1,y1;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 0.5;\r\n    ctx.beginPath();\r\n    ctx.moveTo(x0,y0);\r\n    ctx.lineTo(x1,y1);\r\n    ctx.stroke();\r\n}","import { render } from \"./Graph.vue?vue&type=template&id=f3a6ad80&scoped=true&lang=en\"\nimport script from \"./Graph.vue?vue&type=script&lang=js\"\nexport * from \"./Graph.vue?vue&type=script&lang=js\"\n\nimport \"./Graph.vue?vue&type=style&index=0&id=f3a6ad80&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Axel\\\\Documents\\\\Main\\\\WebApp\\\\vue\\\\tradingapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f3a6ad80\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=1b90e04e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1b90e04e&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Axel\\\\Documents\\\\Main\\\\WebApp\\\\vue\\\\tradingapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktradingapp\"] = self[\"webpackChunktradingapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9085); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","_createElementBlock","_createVNode","_component_Graph","_hoisted_1","width","height","id","ref","makeLine","ctx","x0","y0","x1","y1","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","name","data","pipes","methods","makePairData","success","res","ok","json","Promise","resolve","base","fetch","then","this","mounted","canvas","$refs","canv","getContext","drawCandle","time","o","c","h","l","s","a","PtoY","fillStyle","xTime","PtoX","_d","timeEnd","timeStart","prices","t","candleWidth","fillRect","lp","i","push","Math","random","priceStart","priceEnd","mousePos","info","b1","clicked","sp","x","y","b2","MouseInRightMargin","document","addEventListener","e","getMousePos","canMouseMove","offset","XtoP","ts","te","ratio","p","YtoP","ps","pe","clear","clearRect","annotateRight","price","text","font","fillText","annotateDown","gridifyY","evt","rect","getBoundingClientRect","clientX","left","clientY","top","tick","delta","ii","round","String","forEach","scroll","percent","event","deltaY","preventDefault","onmousedown","which","onmouseup","_x","_y","ondragstart","setInterval","__exports__","components","Graph","counter","orders","age","clickbtn","alert","$data","value","console","log","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","length","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","definition","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}